# Lightdm issue after NVIDIA update

## Wiki
[LightDM does not appear or monitor only displays TTY output](https://wiki.archlinux.org/title/LightDM#LightDM_does_not_appear_or_monitor_only_displays_TTY_output)

Tried both `logind-check-graphical=true` and `logind-check-graphical=false` in `lightdm.conf` without any change. This option was commented in the previous installation of `lightdm`.

## [Light Display Manager failed to start at boot (by chemicalMoss)](https://bbs.archlinux.org/viewtopic.php?id=267646)

[Answer by bigo](https://bbs.archlinux.org/viewtopic.php?pid=1980877#p1980877)
> Edit the display-manager.service config file.
> 
> change restart to always, restartsec to 0.5s.

Suggestion didn't work.

## [Latest NVIDIA updates fails to load (by SimonJ)](https://bbs.archlinux.org/viewtopic.php?id=307580)

[Answer by seth](https://bbs.archlinux.org/viewtopic.php?pid=2256162#p2256162)
> Do you have  GSK_RENDERER=ngl exported?\
> [Nvidia 580.76.05](https://bbs.archlinux.org/viewtopic.php?pid=2256017#p2256017)

[Answer by loqs]
> [nvidia-utils 580.76.05-1](https://gitlab.archlinux.org/archlinux/packaging/packages/nvidia-utils/-/commit/1aae3fbbc0a3e1e5e944cc59143d4f1f30fd7158)

[Commit message by Peter Jung]
> Switch GSK_RENDERER to ngl since the vulkan backend freezes right now, when closing the application\
> [[580.65.06] GTK 4 apps hang when attempting to exit/close](https://forums.developer.nvidia.com/t/580-65-06-gtk-4-apps-hang-when-attempting-to-exit-close/341308/5?u=ptr1337)

 My versions (2025-09-14):
 
 * nvidia: 580.82.09-2
 * nvidia-utils: 580.82.09-1

[Answer by seth](https://bbs.archlinux.org/viewtopic.php?pid=2256162#p2256162)
> That's running on nvidia and fwwi your previous log alos had\
> [     8.441] (II) Applying OutputClass "nvidia" options to /dev/dri/card1\
> but\
> [     8.441] (II) modeset(G0): using drv /dev/dri/card1\
> [     8.441] (II) modeset(G0): Creating default Display subsection in Screen section\
> 	"Default Screen Section" for depth/fbbpp 24/32\
> [     8.441] (==) modeset(G0): Depth 24, (==) framebuffer bpp 32\
> [     8.441] (II) Applying OutputClass "nvidia" options to /dev/dri/card1\
> *after* the modesetting took hold of the device.
>
> [Nvidia GPU failes at being detected/drivers "failed".](https://bbs.archlinux.org/viewtopic.php?pid=2255847#p2255847)

[Answer by seth](https://bbs.archlinux.org/viewtopic.php?pid=2256418#p2256418)
> [https://wiki.archlinux.org/title/Systemd#Drop-in_files]\
> Edit lightdm.service and add a strategic "ExecStartPre=/usr/bin/sleep 1"… (the delay in the journal is actually 19s, so maybe 1s won't cut it)
>
> The nvidia modules already are in the initramfs, nothing to gain there…
